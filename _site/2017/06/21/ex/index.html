<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>연습 | Jiwon Blog</title>
  <meta name="author" content="Jiwon Oh">
  <meta name="description" content="">
  <meta property="og:title" content="연습 | Jiwon Blog">
  <meta property="og:url" content="https://jiwondh.github.io/2017/06/21/ex/">
  <meta property="og:site_name" content="Jiwon Blog">
  <meta property="og:description" content="session">
  <meta property="og:image" content="/assets/images/ade1.jpg">
  <meta property="og:type" content="blog">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:description" content="session">
  <meta name="twitter:title" content="연습 | Jiwon Blog">
  <meta name="twitter:url" content="https://jiwondh.github.io/2017/06/21/ex/">
  <meta name="twitter:site" content="Jiwon Blog">
  <meta name="twitter:creator" content="@">
  <meta name="twitter:domain" content="https://jiwondh.github.io">
  <meta property="twitter:image" content="/assets/images/ade1.jpg">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Lora|Space+Mono:700">
  <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/jejugothic.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <link rel="stylesheet" href="/assets/css/disqus.css">
  <link rel="stylesheet" href="https://yandex.st/highlightjs/7.5/styles/default.min.css">
  <script src="https://yandex.st/highlightjs/7.5/highlight.min.js"></script>


  <link rel="alternate" type="application/rss+xml" title="Jiwon Blog" href="https://jiwondh.github.io/feed.xml">
  <link rel="canonical" href="https://jiwondh.github.io/2017/06/21/ex/">

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90322354-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>


  <body>

    <main>
      <article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="section-padding--lg mast">
    <a class="nav nav--white" href="/">
      <i class="fa fa-lg fa-arrow-left"></i>
      <span>Back to Posts</span>
    </a>
    <figure class="absolute-bg mast__img" style="background-image: url('/assets/images/ade1.jpg');"></figure>
    <div class="mast__container">
      <span><time datetime="2017-06-21T00:00:00+09:00" itemprop="datePublished">Jun 21, 2017</time></span>
      <h1 itemprop="name headline">연습</h1>
      
        <span>
          Posted in Node.js
        </span>
      
      <span></span>
    </div>
  </header>

  <section class="section-padding post" itemprop="articleBody">
    
<ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">11장. 소켓 입출력 모델</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">⭐️ 학습 목표</a></li>
      <li><a href="#overlapped-i-" id="markdown-toc-overlapped-i-">01. Overlapped 모델(I) 📌</a>        <ul>
          <li><a href="#section-2" id="markdown-toc-section-2">⭐️ 학습 목표</a></li>
          <li><a href="#asynchronous-io" id="markdown-toc-asynchronous-io">⭐️ 비동기 입출력 (Asynchronous I/O)</a></li>
          <li><a href="#section-3" id="markdown-toc-section-3">⭐️ 입출력 방식에 따른 소켓 입출력 모델 분류</a></li>
          <li><a href="#overlapped---" id="markdown-toc-overlapped---">⭐️ Overlapped 모델 사용 절차</a></li>
          <li><a href="#overlapped--" id="markdown-toc-overlapped--">⭐️ Overlapped 모델의 종류</a></li>
          <li><a href="#section-4" id="markdown-toc-section-4">⭐️ 입출력 함수</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="section">11장. 소켓 입출력 모델</h1>

<h3 id="section-1">⭐️ 학습 목표</h3>

<ul>
  <li>Overlapped 소켓 입출력 모델의 두 가지 형태를 이해하고 활용한다.</li>
  <li>Completion Port 소켓 입출력 모델을 이해하고 활용한다.</li>
</ul>

<h2 id="overlapped-i-">01. Overlapped 모델(I) 📌</h2>

<ul>
  <li>Overlapped모델은 10장에서 배운 소켓 입출력 모델(Select, WSAAsyncSelect, WSAEventSelect)과는 근본적으로 다른 <strong>입출력 방식</strong> 으로 <strong>고성능</strong> 을 제공</li>
  <li>크게 2종류의 구현 방법을 지원</li>
</ul>

<h3 id="section-2">⭐️ 학습 목표</h3>

<ul>
  <li>Overlapped 소켓 입출력 모델의 두 가지 형태를 이해하고 활용한다.</li>
  <li>안녕</li>
  <li>[그림 11-1] 동기 입출력
<img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fgoq1nqngdj30u80f441x.jpg" alt="D40F6240-BA26-4FFD-9F29-EFAFFFDFF359" /></li>
  <li>[그림 11-2] 비동기 입출력
<img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fgoq2dve5ej30so0e6wi1.jpg" alt="9A2614F0-5DD6-4FE5-9FAA-33FBA70595C0" /></li>
</ul>

<h3 id="asynchronous-io">⭐️ 비동기 입출력 (Asynchronous I/O)</h3>

<ul>
  <li><strong>중첩 입출력(overlapped I/O)</strong> 라고도 부름</li>
  <li>응용 프로그램은 입출력 함수를 호출한 후 입출력 작업의 완료 여부와 무관하게 다른 작업을 진행할 수 있음</li>
  <li>입출력 작업이 끝나면 운영체제는 작업 완료를 응용 프로그램에 알려줌</li>
  <li>이때 응용 프로그램은 하던 작업ㅇ르 중단하고 입출력 결과를 처리하면 됨</li>
  <li>앞으로 배울 소켓 입출력 모델(Overlapped, Completion Port)은 모두 비동기 입출력 방식으로 소켓 입출력을 처리</li>
  <li>비동기 입출력 방식에서는 <u>입출력 완료를 운영체제가 알려준다는 개념</u>이 반드시 필요하므로 <strong>비동기 통지</strong> 도 사용한다고 볼 수 있음</li>
  <li><strong>11장에서 배울 소켓 입출력 모델(Overlapped, Completion Prot)은 비동기 입출력과 비동기 통지를 결합한 형태</strong></li>
</ul>

<h3 id="section-3">⭐️ 입출력 방식에 따른 소켓 입출력 모델 분류</h3>

<ul>
  <li>동기 입출력 + 비동기 통지
    <ul>
      <li>Select 모델</li>
      <li>WSAAsyncSelect모델</li>
      <li>WSAEventSelect모델</li>
    </ul>
  </li>
  <li>비동기 입출력 + 비동기 통지
    <ul>
      <li>Overlapped 모델</li>
      <li>Completion Port 모델</li>
    </ul>
  </li>
</ul>

<h3 id="overlapped---">⭐️ Overlapped 모델 사용 절차</h3>

<p>① 비동기 입출력을 지원하는 소켓 생성</p>

<p>② 비동기 입출력을 지원하는 소켓 함수 호출</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#include &lt;iostream&gt;
</span>
<span class="c1">// Hello World
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"hello world"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span></code></pre></figure>

<p>③ <u>운영체제가 입출력 작업 완료를 응용 프로그램에 알려주면(=비동기 통지)</u>, 응용 프로그램은 입출력 결과를 처리</p>

<h3 id="overlapped--">⭐️ Overlapped 모델의 종류</h3>

<ul>
  <li>운영체제의 <strong>비동기 통지</strong> 방식에 따라 두 종류로 구분</li>
</ul>

<table>
  <thead>
    <tr>
      <th>종류</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Overlapped 모델(I)</td>
      <td>소켓  입출력 작업이 완료되면 운영체제는 응용 프로그램이 등록해둔 이벤트 객체를 신호  상태로 바꾼다. 응용 프로그램은 이벤트 객체를 관찰함으로써 입출력 작업 완료를 감지할 수 있다.</td>
    </tr>
    <tr>
      <td>Overlapped 모델(II)</td>
      <td>소켓  입출력 작업이 완료되면 운영체제는 응용 프로그램이 등록해둔 함수를 자동으로 호출한다.  일반적으로 운영체제가 호출하는 응용 프로그램 함수를 콜백 함수라 하는데 특별히 Overlapped 모델에서는 완료 루틴이라 부른다.</td>
    </tr>
  </tbody>
</table>

<h3 id="section-4">⭐️ 입출력 함수</h3>

<ul>
  <li>소켓 응용 프로그램에서 Overlapped모델을 사용하는 주된 이유는 데이터를 보내고 받는 작업ㅇ르 효율적으로 처리하기 위해서임</li>
  <li><code class="highlighter-rouge">WSASend)()</code>, <code class="highlighter-rouge">WSARecv()</code> 함수는 네 번째와 다섯 번째 인자를 제외하면 같음</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>int WSASend (
   SOCKET s,
   LPWSABUF lpBuffers,
   DWORD dwBufferCount,
   LPDWORD lpNumberOfBytesSent,
   DWORD dwFlags,
   LPWSAOVERLAPPED lpOverlapped,
   LPWSAOVERLAPPED_COMPLETION_ROUTINE lpCompletionRoutine
) ;
// 성공: 0, 실패: SOCKET_ERROR
</code></pre>
</div>

  </section>

  <section class="profile">
    <div class="profile__card">
      <div class="profile__img">
        <figure class="absolute-bg" style="background-image: url('/assets/images/ade1.jpg');"></figure>
      </div>
      <div class="profile__container">
        <p>Jiwon Oh</p>
        
          <ul class="profile__social">
            
            
              <li><a class="fa fa-lg fa-github" href="https://github.com/jiwondh" target="_blank"></a></li>
            
          </ul>
        
      </div>
    </div>
  </section>
<!--disqus coding start-->
  <div id="disqus_thread"></div>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//jiwondh.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>  
<!--disqus coding end-->  
  
</article>


  <section class="next">
    <a class="next__link" href="/2017/01/29/session/" style="background-image: url('/assets/images/ade1.jpg');">
      <div class="next__container">
        <span>Read Next</span>
        <h2>[Node.js] Session</h2>
      </div>
    </a>
  </section>


    </main>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script type="text/javascript" src="/assets/js/app.js"></script>


  </body>

</html>
